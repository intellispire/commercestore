{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/admin/settings/extension-manager/index.js","webpack:///external \"jQuery\""],"names":["document","$","on","e","preventDefault","$btn","action","attr","plugin","type","ajaxAction","text","CSExtensionManager","activating","installing","removeClass","addClass","data","nonce","extension_manager_nonce","pass","id","product","post","ajaxurl","done","res","console","log","thisStep","closest","success","nextStep","next","length","fadeOut","prepend","message","fadeIn","extension_install_failed","plugin_install_failed","after","jQuery"],"mappings":"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","file":"assets/js/cs-admin-extension-manager.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/admin/settings/extension-manager/index.js\");\n","/* global CSExtensionManager, ajaxurl */\n\n; ( function ( document, $ ) {\n\t'use strict';\n\n\t$( '.cs-extension-manager__action' ).on( 'click', function ( e ) {\n\t\te.preventDefault();\n\n\t\tvar $btn = $( this ),\n\t\t\taction = $btn.attr( 'data-action' ),\n\t\t\tplugin = $btn.attr( 'data-plugin' ),\n\t\t\ttype = $btn.attr( 'data-type' ),\n\t\t\tajaxAction = '';\n\n\t\tif ( $btn.attr( 'disabled' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch ( action ) {\n\t\t\tcase 'activate':\n\t\t\t\tajaxAction = 'cs_activate_extension';\n\t\t\t\t$btn.text( CSExtensionManager.activating );\n\t\t\t\tbreak;\n\n\t\t\tcase 'install':\n\t\t\t\tajaxAction = 'cs_install_extension';\n\t\t\t\t$btn.text( CSExtensionManager.installing );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t$btn.removeClass( 'button-primary' ).attr( 'disabled', true ).addClass( 'updating-message' );\n\n\t\tvar data = {\n\t\t\taction: ajaxAction,\n\t\t\tnonce: CSExtensionManager.extension_manager_nonce,\n\t\t\tplugin: plugin,\n\t\t\ttype: type,\n\t\t\tpass: $btn.attr( 'data-pass' ),\n\t\t\tid: $btn.attr( 'data-id' ),\n\t\t\tproduct: $btn.attr( 'data-product' ),\n\t\t};\n\n\t\t$.post( ajaxurl, data )\n\t\t\t.done( function ( res ) {\n\t\t\t\tconsole.log( res );\n\t\t\t\tvar thisStep = $btn.closest( '.cs-extension-manager__step' );\n\t\t\t\tif ( res.success ) {\n\t\t\t\t\tvar nextStep = thisStep.next();\n\t\t\t\t\tif ( nextStep.length ) {\n\t\t\t\t\t\tthisStep.fadeOut();\n\t\t\t\t\t\tnextStep.prepend( '<div class=\"notice inline-notice notice-success\"><p>' + res.data.message + '</p></div>' );\n\t\t\t\t\t\tnextStep.fadeIn();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthisStep.fadeOut();\n\t\t\t\t\tvar message = res.data.message;\n\t\t\t\t\t/**\n\t\t\t\t\t * The install class returns an array of error messages, and res.data.message will be undefined.\n\t\t\t\t\t * In that case, we'll use the standard failure messages.\n\t\t\t\t\t */\n\t\t\t\t\tif ( ! message ) {\n\t\t\t\t\t\tif ( 'plugin' !== type ) {\n\t\t\t\t\t\t\tmessage = CSExtensionManager.extension_install_failed;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmessage = CSExtensionManager.plugin_install_failed;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthisStep.after( '<div class=\"notice inline-notice notice-warning\"><p>' + message + '</p></div>' );\n\t\t\t\t}\n\t\t\t} );\n\t} );\n} )( document, jQuery );\n","module.exports = jQuery;"],"sourceRoot":""}