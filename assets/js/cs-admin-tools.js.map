{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/admin/tools/index.js","webpack:///external \"jQuery\""],"names":["CS_Tools","init","revoke_api_key","regenerate_api_key","create_api_key","recount_stats","$","document","body","on","e","confirm","cs_vars","input","css","user_id","val","length","export_form","selected_type","data","submit_button","products","find","remove","attr","removeClass","hide","show","append","notice_wrap","html","reset_stats_warn","checked","is","submit","preventDefault","selection","is_confirmed","has_errors","batch_export_no_class","selected_download","batch_export_no_reqs","jQuery","ready"],"mappings":"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","file":"assets/js/cs-admin-tools.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/admin/tools/index.js\");\n","/**\n * Tools screen JS\n */\nconst CS_Tools = {\n\n\tinit: function() {\n\t\tthis.revoke_api_key();\n\t\tthis.regenerate_api_key();\n\t\tthis.create_api_key();\n\t\tthis.recount_stats();\n\t},\n\n\trevoke_api_key: function() {\n\t\t$( document.body ).on( 'click', '.cs-revoke-api-key', function( e ) {\n\t\t\treturn confirm( cs_vars.revoke_api_key );\n\t\t} );\n\t},\n\tregenerate_api_key: function() {\n\t\t$( document.body ).on( 'click', '.cs-regenerate-api-key', function( e ) {\n\t\t\treturn confirm( cs_vars.regenerate_api_key );\n\t\t} );\n\t},\n\tcreate_api_key: function() {\n\t\t$( document.body ).on( 'submit', '#api-key-generate-form', function( e ) {\n\t\t\tconst input = $( 'input[type=\"text\"][name=\"user_id\"]' );\n\n\t\t\tinput.css( 'border-color', '#ddd' );\n\n\t\t\tconst user_id = input.val();\n\t\t\tif ( user_id.length < 1 || user_id === 0 ) {\n\t\t\t\tinput.css( 'border-color', '#ff0000' );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\t},\n\trecount_stats: function() {\n\t\t$( document.body ).on( 'change', '#recount-stats-type', function() {\n\t\t\tconst export_form = $( '#cs-tools-recount-form' ),\n\t\t\t\tselected_type = $( 'option:selected', this ).data( 'type' ),\n\t\t\t\tsubmit_button = $( '#recount-stats-submit' ),\n\t\t\t\tproducts = $( '#tools-product-dropdown' );\n\n\t\t\t// Reset the form\n\t\t\texport_form.find( '.notice-wrap' ).remove();\n\t\t\tsubmit_button.attr( 'disabled', false ).removeClass( 'updated-message' );\n\t\t\tproducts.hide();\n\t\t\t$( '.cs-recount-stats-descriptions span' ).hide();\n\n\t\t\tif ( 'recount-download' === selected_type ) {\n\t\t\t\tproducts.show();\n\t\t\t\tproducts.find( '.cs-select-chosen' ).css( 'width', 'auto' );\n\t\t\t} else if ( 'reset-stats' === selected_type ) {\n\t\t\t\texport_form.append( '<div class=\"notice-wrap\"></div>' );\n\t\t\t\tconst notice_wrap = export_form.find( '.notice-wrap' );\n\t\t\t\tnotice_wrap.html( '<div class=\"notice notice-warning\"><p><input type=\"checkbox\" id=\"confirm-reset\" name=\"confirm_reset_store\" value=\"1\" /> <label for=\"confirm-reset\">' + cs_vars.reset_stats_warn + '</label></p></div>' );\n\n\t\t\t\t$( '#recount-stats-submit' ).attr( 'disabled', true );\n\t\t\t} else {\n\t\t\t\tproducts.hide();\n\t\t\t\tproducts.val( 0 );\n\t\t\t}\n\n\t\t\t$( '#' + selected_type ).show();\n\t\t} );\n\n\t\t$( document.body ).on( 'change', '#confirm-reset', function() {\n\t\t\tconst checked = $( this ).is( ':checked' );\n\t\t\tif ( checked ) {\n\t\t\t\t$( '#recount-stats-submit' ).attr( 'disabled', false );\n\t\t\t} else {\n\t\t\t\t$( '#recount-stats-submit' ).attr( 'disabled', true );\n\t\t\t}\n\t\t} );\n\n\t\t$( '#cs-tools-recount-form' ).submit( function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tconst selection = $( '#recount-stats-type' ).val(),\n\t\t\t\texport_form = $( this ),\n\t\t\t\tselected_type = $( 'option:selected', this ).data( 'type' );\n\n\t\t\tif ( 'reset-stats' === selected_type ) {\n\t\t\t\tconst is_confirmed = $( '#confirm-reset' ).is( ':checked' );\n\t\t\t\tif ( is_confirmed ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\thas_errors = true;\n\t\t\t}\n\n\t\t\texport_form.find( '.notice-wrap' ).remove();\n\t\t\texport_form.append( '<div class=\"notice-wrap\"></div>' );\n\n\t\t\tvar notice_wrap = export_form.find( '.notice-wrap' ),\n\t\t\t\thas_errors = false;\n\n\t\t\tif ( null === selection || 0 === selection ) {\n\t\t\t\t// Needs to pick a method cs_vars.batch_export_no_class\n\t\t\t\tnotice_wrap.html( '<div class=\"updated error\"><p>' + cs_vars.batch_export_no_class + '</p></div>' );\n\t\t\t\thas_errors = true;\n\t\t\t}\n\n\t\t\tif ( 'recount-download' === selected_type ) {\n\t\t\t\tconst selected_download = $( 'select[name=\"download_id\"]' ).val();\n\t\t\t\tif ( selected_download === 0 ) {\n\t\t\t\t\t// Needs to pick download cs_vars.batch_export_no_reqs\n\t\t\t\t\tnotice_wrap.html( '<div class=\"updated error\"><p>' + cs_vars.batch_export_no_reqs + '</p></div>' );\n\t\t\t\t\thas_errors = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( has_errors ) {\n\t\t\t\texport_form.find( 'button:disabled' ).attr( 'disabled', false ).removeClass( 'updated-message' );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\t},\n};\n\njQuery( document ).ready( function( $ ) {\n\tCS_Tools.init();\n} );\n","module.exports = jQuery;"],"sourceRoot":""}