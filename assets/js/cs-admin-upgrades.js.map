{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/admin/upgrades/index.js","webpack:///./assets/js/admin/upgrades/v3/index.js","webpack:///external \"jQuery\""],"names":["CS_v3_Upgrades","inProgress","init","$","on","e","wrapperForm","closest","formSubmit","find","target","checked","removeClass","prop","addClass","preventDefault","migrationForm","upgradeKeyField","upgradeKey","length","val","attr","firstNonCompleteUpgrade","data","processStep","upgrade_key","step","nonce","action","_ajax_nonce","clearErrors","markUpgradeInProgress","ajax","type","url","ajaxurl","success","response","showError","upgrade_completed","markUpgradeComplete","upgrade_processed","legacyDataRemovalComplete","percentage","updateUpgradePercentage","next_upgrade","showLegacyDataRemoval","next_step","stopAllSpinners","fail","html","message","container","errorWrapper","upgradeRow","statusIcon","newPercentage","text","statusLabel","cs_admin_upgrade_vars","migration_complete","dataRemovalWrapper","wrapper","jQuery","document","ready"],"mappings":"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","file":"assets/js/cs-admin-upgrades.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/admin/upgrades/index.js\");\n","import './v3';\n","const CS_v3_Upgrades = {\n\tinProgress: false,\n\n\tinit: function() {\n\t\t// Listen for toggle on the checkbox.\n\t\t$( '.cs-v3-migration-confirmation' ).on( 'change', function( e ) {\n\t\t\tconst wrapperForm = $( this ).closest( '.cs-v3-migration' );\n\t\t\tconst formSubmit = wrapperForm.find( 'button' );\n\n\t\t\tif ( e.target.checked ) {\n\t\t\t\tformSubmit.removeClass( 'disabled' ).prop( 'disabled', false );\n\t\t\t} else {\n\t\t\t\tformSubmit.addClass( 'disabled' ).prop( 'disabled', true );\n\t\t\t}\n\t\t} );\n\n\t\t$( '.cs-v3-migration' ).on( 'submit', function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tif ( CS_v3_Upgrades.inProgress ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tCS_v3_Upgrades.inProgress = true;\n\n\t\t\tconst migrationForm = $( this );\n\t\t\tconst upgradeKeyField = migrationForm.find( 'input[name=\"upgrade_key\"]' );\n\t\t\tlet upgradeKey = false;\n\n\t\t\tif ( upgradeKeyField.length && upgradeKeyField.val() ) {\n\t\t\t\tupgradeKey = upgradeKeyField.val();\n\t\t\t}\n\n\t\t\t// Disable submit button.\n\t\t\tmigrationForm.find( 'button' )\n\t\t\t\t.removeClass( 'button-primary' )\n\t\t\t\t.addClass( 'button-secondary disabled updating-message' )\n\t\t\t\t.prop( 'disabled', true );\n\n\t\t\t// Disable checkbox.\n\t\t\tmigrationForm.find( 'input' ).prop( 'disabled', true );\n\n\t\t\t// If this is the main migration, reveal the steps & mark the first non-complete item as in progress.\n\t\t\tif ( 'cs-v3-migration' === migrationForm.attr( 'id' ) ) {\n\t\t\t\t$( '#cs-migration-progress' ).removeClass( 'cs-hidden' );\n\t\t\t\tconst firstNonCompleteUpgrade = $( '#cs-migration-progress li:not(.cs-upgrade-complete)' );\n\t\t\t\tif ( firstNonCompleteUpgrade.length && ! upgradeKey ) {\n\t\t\t\t\tupgradeKey = firstNonCompleteUpgrade.data( 'upgrade' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tCS_v3_Upgrades.processStep( upgradeKey, 1, migrationForm.find( 'input[name=\"_wpnonce\"]' ).val() );\n\t\t} )\n\t},\n\n\tprocessStep: function( upgrade_key, step, nonce ) {\n\t\tlet data = {\n\t\t\taction: 'cs_process_v3_upgrade',\n\t\t\t_ajax_nonce: nonce,\n\t\t\tupgrade_key: upgrade_key,\n\t\t\tstep: step\n\t\t}\n\n\t\tCS_v3_Upgrades.clearErrors();\n\n\t\tif ( upgrade_key ) {\n\t\t\tCS_v3_Upgrades.markUpgradeInProgress( upgrade_key );\n\t\t}\n\n\t\t$.ajax( {\n\t\t\ttype: 'POST',\n\t\t\tdata: data,\n\t\t\turl: ajaxurl,\n\t\t\tsuccess: function( response ) {\n\t\t\t\tif ( ! response.success ) {\n\t\t\t\t\tCS_v3_Upgrades.showError( upgrade_key, response.data );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( response.data.upgrade_completed ) {\n\t\t\t\t\tCS_v3_Upgrades.markUpgradeComplete( response.data.upgrade_processed );\n\n\t\t\t\t\t// If we just completed legacy data removal then we're all done!\n\t\t\t\t\tif ( 'v30_legacy_data_removed' === response.data.upgrade_processed ) {\n\t\t\t\t\t\tCS_v3_Upgrades.legacyDataRemovalComplete();\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else if( response.data.percentage ) {\n\t\t\t\t\t// Update percentage for the upgrade we just processed.\n\t\t\t\t\tCS_v3_Upgrades.updateUpgradePercentage( response.data.upgrade_processed, response.data.percentage );\n\t\t\t\t}\n\n\t\t\t\tif ( response.data.next_upgrade && 'v30_legacy_data_removed' === response.data.next_upgrade && 'v30_legacy_data_removed' !== response.data.upgrade_processed ) {\n\t\t\t\t\tCS_v3_Upgrades.inProgress = false;\n\n\t\t\t\t\t// Legacy data removal is next, which we do not start automatically.\n\t\t\t\t\tCS_v3_Upgrades.showLegacyDataRemoval();\n\t\t\t\t} else if ( response.data.next_upgrade ) {\n\t\t\t\t\t// Start the next upgrade (or continuation of current) automatically.\n\t\t\t\t\tCS_v3_Upgrades.processStep( response.data.next_upgrade, response.data.next_step, response.data.nonce );\n\t\t\t\t} else {\n\t\t\t\t\tCS_v3_Upgrades.inProgress = false;\n\t\t\t\t\tCS_v3_Upgrades.stopAllSpinners();\n\t\t\t\t}\n\t\t\t}\n\t\t} ).fail( ( data ) => {\n\t\t\t// @todo\n\t\t} )\n\t},\n\n\tclearErrors: function() {\n\t\t$( '.cs-v3-migration-error' ).addClass( 'cs-hidden' ).html( '' );\n\t},\n\n\tshowError: function( upgradeKey, message ) {\n\t\tlet container = $( '#cs-v3-migration' );\n\t\tif ( 'v30_legacy_data_removed' === upgradeKey ) {\n\t\t\tcontainer = $( '#cs-v3-remove-legacy-data' );\n\t\t}\n\t\tconst errorWrapper = container.find( '.cs-v3-migration-error' );\n\n\t\terrorWrapper.html( '<p>' + message + '</p>' ).removeClass( 'cs-hidden' );\n\n\t\t// Stop processing and allow form resubmission.\n\t\tCS_v3_Upgrades.inProgress = false;\n\t\tcontainer.find( 'input' ).prop( 'disabled', false );\n\t\tcontainer.find( 'button' )\n\t\t\t.prop( 'disabled', false )\n\t\t\t.addClass( 'button-primary' )\n\t\t\t.removeClass( 'button-secondary disabled updating-message' );\n\t},\n\n\tmarkUpgradeInProgress: function( upgradeKey ) {\n\t\tconst upgradeRow = $( '#cs-v3-migration-' + upgradeKey );\n\t\tif ( ! upgradeRow.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst statusIcon = upgradeRow.find( '.dashicons' );\n\t\tif ( statusIcon.length ) {\n\t\t\tstatusIcon.removeClass( 'dashicons-minus' ).addClass( 'dashicons-update' );\n\t\t}\n\n\t\tupgradeRow.find( '.cs-migration-percentage' ).removeClass( 'cs-hidden' );\n\t},\n\n\tupdateUpgradePercentage: function( upgradeKey, newPercentage ) {\n\t\tconst upgradeRow = $( '#cs-v3-migration-' + upgradeKey );\n\t\tif ( ! upgradeRow.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tupgradeRow.find( '.cs-migration-percentage-value' ).text( newPercentage );\n\t},\n\n\tmarkUpgradeComplete: function( upgradeKey ) {\n\t\tconst upgradeRow = $( '#cs-v3-migration-' + upgradeKey );\n\t\tif ( ! upgradeRow.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tupgradeRow.addClass( 'cs-upgrade-complete' );\n\n\t\tconst statusIcon = upgradeRow.find( '.dashicons' );\n\t\tif ( statusIcon.length ) {\n\t\t\tstatusIcon.removeClass( 'dashicons-minus dashicons-update' ).addClass( 'dashicons-yes' );\n\t\t}\n\n\t\tconst statusLabel = upgradeRow.find( '.cs-migration-status .screen-reader-text' );\n\t\tif ( statusLabel.length ) {\n\t\t\tstatusLabel.text( cs_admin_upgrade_vars.migration_complete );\n\t\t}\n\n\t\t// Update percentage to 100%;\n\t\tupgradeRow.find( '.cs-migration-percentage-value' ).text( 100 );\n\t},\n\n\tshowLegacyDataRemoval: function() {\n\t\t// Un-spin the main submit button.\n\t\t$( '#cs-v3-migration-button' ).removeClass( 'updating-message' );\n\n\t\t// Show the \"migration complete\" message.\n\t\t$( '#cs-v3-migration-complete' ).removeClass( 'cs-hidden' );\n\n\t\tconst dataRemovalWrapper = $( '#cs-v3-remove-legacy-data' );\n\t\tif ( ! dataRemovalWrapper.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdataRemovalWrapper.removeClass( 'cs-hidden' );\n\t},\n\n\tlegacyDataRemovalComplete: function() {\n\t\tconst wrapper = $( '#cs-v3-remove-legacy-data' );\n\t\tif ( ! wrapper.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\twrapper.find( 'form' ).addClass( 'cs-hidden' );\n\t\twrapper.find( '#cs-v3-legacy-data-removal-complete' ).removeClass( 'cs-hidden' );\n\t},\n\n\tstopAllSpinners: function() {\n\n\t}\n}\n\njQuery( document ).ready( function( $ ) {\n\tCS_v3_Upgrades.init();\n} );\n","module.exports = jQuery;"],"sourceRoot":""}