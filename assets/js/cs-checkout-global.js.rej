***************
*** 1 ****
- !function(e){var d={};function t(a){if(d[a])return d[a].exports;var n=d[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=d,t.d=function(e,d,a){t.o(e,d)||Object.defineProperty(e,d,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,d){if(1&d&&(e=t(e)),8&d)return e;if(4&d&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&d&&"string"!=typeof e)for(var n in e)t.d(a,n,function(d){return e[d]}.bind(null,n));return a},t.n=function(e){var d=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(d,"a",d),d},t.o=function(e,d){return Object.prototype.hasOwnProperty.call(e,d)},t.p="",t(t.s=79)}({0:function(e,d){e.exports=jQuery},2:function(e,d,t){"use strict";(function(e){t.d(d,"a",(function(){return a}));var a=function(d){e(d)}}).call(this,t(0))},79:function(e,d,t){"use strict";t.r(d);t(80);var a=t(8);window.recalculate_taxes=a.b,window.CS_Checkout=function(e){var d,t,n,o;function r(t){t.preventDefault();var n=e("#cs-discount").val(),r=e("#cs-discount-loader"),i=e("#cs_cc_address .cs-input, #cs_cc_address .cs-select").filter("[required]");if(""==n||n==cs_global_vars.enter_discount)return!1;var c={action:"cs_apply_discount",code:n,form:e("#cs_purchase_form").serialize()};return e("#cs-discount-error-wrap").html("").hide(),r.show(),e.ajax({type:"POST",data:c,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){t?"valid"==t.msg?(e(".cs_cart_discount").html(t.html),e(".cs_cart_discount_row").show(),e(".cs_cart_amount").each((function(){e(this).text(t.total),e(this).data("total",t.total_plain)})),e("#cs-discount",o).val(""),Object(a.b)(),"0.00"==t.total_plain?(e("#cs_cc_fields,#cs_cc_address,#cs_payment_mode_select").slideUp(),i.prop("required",!1),e('input[name="cs-gateway"]').val("manual")):(i.prop("required",!0),e("#cs_cc_fields,#cs_cc_address").slideDown()),d.trigger("cs_discount_applied",[t])):(e("#cs-discount-error-wrap").html('<span class="cs_error">'+t.msg+"</span>"),e("#cs-discount-error-wrap").show(),d.trigger("cs_discount_invalid",[t])):(window.console&&window.console.log&&console.log(t),d.trigger("cs_discount_failed",[t])),r.hide()}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}function i(t){var n={action:"cs_remove_discount",code:e(this).data("code")};return e.ajax({type:"POST",data:n,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){var n="0"+cs_global_vars.decimal_separator+"00";e(".cs_cart_amount").each((function(){cs_global_vars.currency_sign+n!=e(this).text()&&n+cs_global_vars.currency_sign!=e(this).text()||window.location.reload(),e(this).text(t.total),e(this).data("total",t.total_plain)})),e(".cs_cart_discount").html(t.html),t.discounts&&0===t.discounts.length&&e(".cs_cart_discount_row").hide(),Object(a.b)(),e("#cs_cc_fields,#cs_cc_address").slideDown(),d.trigger("cs_discount_removed",[t])}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}function c(t){var a=e(this),n=a.val(),o=a.data("key"),r=a.closest(".cs_cart_item").data("download-id"),i=a.parent().find('input[name="cs-cart-download-'+o+'-options"]').val(),c=e("#cs_cc_address"),l={action:"cs_update_quantity",quantity:n,download_id:r,options:i,billing_country:c.find("#billing_country").val(),card_state:c.find("#card_state").val()};return e.ajax({type:"POST",data:l,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){e(".cs_cart_subtotal_amount").each((function(){e(this).text(t.subtotal)})),e(".cs_cart_tax_amount").each((function(){e(this).text(t.taxes)})),e(".cs_cart_amount").each((function(){e(this).text(t.total),d.trigger("cs_quantity_updated",[t])}))}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}return{init:function(){d=e(document.body),t=e("#cs_purchase_form"),n=e(".cs_cart_amount"),n.text(),o=e("#cs_checkout_form_wrap"),d.on("cs_gateway_loaded",(function(e){var d,a,n,o;a=(d=t).find(".card-number"),n=d.find(".card-cvc"),o=d.find(".card-expiry"),a.length&&"function"==typeof a.payment&&(a.payment("formatCardNumber"),n.payment("formatCardCVC"),o.payment("formatCardExpiry"))})),d.on("keyup change",".cs-do-validate .card-number",(function(){var d,t;d=e(this),(t=d).validateCreditCard((function(d){var n=e(".card-type");null==d.card_type?(n.removeClass().addClass("off card-type"),t.removeClass("valid"),t.addClass("error")):(n.removeClass("off"),n.html(Object(a.a)(d.card_type.name)),n.addClass(d.card_type.name),d.length_valid&&d.luhn_valid?(t.addClass("valid"),t.removeClass("error")):(t.removeClass("valid"),t.addClass("error")))}))})),d.on("blur change",".card-name",(function(){var d=e(this);d.validateCreditCard((function(t){null!=t.card_type?(d.removeClass("valid").addClass("error"),e("#cs-purchase-button").attr("disabled","disabled")):(d.removeClass("error").addClass("valid"),e("#cs-purchase-button").removeAttr("disabled"))}))})),d.on("submit","#cs_payment_mode",(function(){if(0==e("#cs-gateway option:selected").val())return alert(cs_global_vars.no_gateway),!1})),d.on("click","#cs_payment_mode_select input",(function(){e("#cs_payment_mode_select label.cs-gateway-option-selected").removeClass("cs-gateway-option-selected"),e("#cs_payment_mode_select input:checked").parent().addClass("cs-gateway-option-selected")})),o.on("click",".cs-apply-discount",r),o.on("keypress","#cs-discount",(function(e){if("13"==e.keyCode)return!1})),o.on("keyup","#cs-discount",(function(e){"13"==e.keyCode&&o.find(".cs-apply-discount").trigger("click")})),d.on("click",".cs_discount_remove",i),d.on("click",".cs_discount_link",(function(d){d.preventDefault(),e(".cs_discount_link").parent().hide(),e("#cs-discount-code-wrap").show().find("#cs-discount").focus()})),d.find("#cs-discount-code-wrap").hide(),d.find("#cs_show_discount").show(),d.on("change",".cs-item-quantity",c),d.on("click",".cs-amazon-logout #Logout",(function(e){e.preventDefault(),amazon.Login.logout(),window.location=cs_amazon.checkoutUri}))},recalculate_taxes:a.b}}(window.jQuery),window.jQuery(document).ready(CS_Checkout.init)},8:function(e,d,t){"use strict";(function(e){t.d(d,"a",(function(){return a})),t.d(d,"b",(function(){return o}));var a=function(e){var d,t=e;switch(e){case"amex":t="americanexpress",d=32;break;default:d=50}return"\n    <svg\n      width=".concat(d,"\n      height=",32,'\n      class="payment-icon icon-').concat(t,'"\n      role="img"\n    >\n      <use\n        href="#icon-').concat(t,'"\n        xlink:href="#icon-').concat(t,'">\n      </use>\n    </svg>')},n=0;function o(d){if("1"==cs_global_vars.taxes_enabled){var t=e("#cs_cc_address"),a=t.find("#billing_country").val(),o=t.find("#card_address").val(),r=t.find("#card_address_2").val(),i=t.find("#card_city").val(),c=t.find("#card_state").val();d||(d=c);var l={action:"cs_recalculate_taxes",card_address:o,card_address_2:r,card_city:i,card_zip:t.find("#card_zip").val(),state:d,billing_country:a,nonce:e("#cs-checkout-address-fields-nonce").val()};e("#cs_purchase_submit [type=submit]").after('<span class="cs-loading-ajax cs-recalculate-taxes-loading cs-loading"></span>');var s=++n;return e.ajax({type:"POST",data:l,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(d){if(s===n){d.html&&e("#cs_checkout_cart_form").replaceWith(d.html),e(".cs_cart_amount").html(d.total);var t=new Object;t.postdata=l,t.response=d,e("body").trigger("cs_taxes_recalculated",[t])}e(".cs-recalculate-taxes-loading").remove()}}).fail((function(d){window.console&&window.console.log&&(console.log(d),s===n&&e("body").trigger("cs_taxes_recalculated",[tax_data]))}))}}}).call(this,t(0))},80:function(e,d,t){"use strict";(function(e){var d=t(2);Object(d.a)((function(){e(document.body).on("click",".cs_terms_links",(function(d){d.preventDefault();var t=e(this).parent();t.prev(".cs-terms").slideToggle(),t.find(".cs_terms_links").toggle()}))}))}).call(this,t(0))}});--- 1 ----
+ !function(e){var d={};function t(a){if(d[a])return d[a].exports;var n=d[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=d,t.d=function(e,d,a){t.o(e,d)||Object.defineProperty(e,d,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,d){if(1&d&&(e=t(e)),8&d)return e;if(4&d&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&d&&"string"!=typeof e)for(var n in e)t.d(a,n,function(d){return e[d]}.bind(null,n));return a},t.n=function(e){var d=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(d,"a",d),d},t.o=function(e,d){return Object.prototype.hasOwnProperty.call(e,d)},t.p="",t(t.s=81)}({0:function(e,d){e.exports=jQuery},2:function(e,d,t){"use strict";(function(e){t.d(d,"a",(function(){return a}));var a=function(d){e(d)}}).call(this,t(0))},8:function(e,d,t){"use strict";(function(e){t.d(d,"a",(function(){return a})),t.d(d,"b",(function(){return o}));var a=function(e){var d,t=e;switch(e){case"amex":t="americanexpress",d=32;break;default:d=50}return"\n    <svg\n      width=".concat(d,"\n      height=",32,'\n      class="payment-icon icon-').concat(t,'"\n      role="img"\n    >\n      <use\n        href="#icon-').concat(t,'"\n        xlink:href="#icon-').concat(t,'">\n      </use>\n    </svg>')},n=0;function o(d){if("1"==cs_global_vars.taxes_enabled){var t=e("#cs_cc_address"),a=t.find("#billing_country").val(),o=t.find("#card_address").val(),r=t.find("#card_address_2").val(),i=t.find("#card_city").val(),c=t.find("#card_state").val();d||(d=c);var l={action:"cs_recalculate_taxes",card_address:o,card_address_2:r,card_city:i,card_zip:t.find("#card_zip").val(),state:d,billing_country:a,nonce:e("#cs-checkout-address-fields-nonce").val()};e("#cs_purchase_submit [type=submit]").after('<span class="cs-loading-ajax cs-recalculate-taxes-loading cs-loading"></span>');var s=++n;return e.ajax({type:"POST",data:l,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(d){if(s===n){d.html&&e("#cs_checkout_cart_form").replaceWith(d.html),e(".cs_cart_amount").html(d.total);var t=new Object;t.postdata=l,t.response=d,e("body").trigger("cs_taxes_recalculated",[t])}e(".cs-recalculate-taxes-loading").remove()}}).fail((function(d){window.console&&window.console.log&&(console.log(d),s===n&&e("body").trigger("cs_taxes_recalculated",[tax_data]))}))}}}).call(this,t(0))},81:function(e,d,t){"use strict";t.r(d);t(82);var a=t(8);window.recalculate_taxes=a.b,window.CS_Checkout=function(e){var d,t,n,o;function r(t){t.preventDefault();var n=e("#cs-discount").val(),r=e("#cs-discount-loader"),i=e("#cs_cc_address .cs-input, #cs_cc_address .cs-select").filter("[required]");if(""==n||n==cs_global_vars.enter_discount)return!1;var c={action:"cs_apply_discount",code:n,form:e("#cs_purchase_form").serialize()};return e("#cs-discount-error-wrap").html("").hide(),r.show(),e.ajax({type:"POST",data:c,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){t?"valid"==t.msg?(e(".cs_cart_discount").html(t.html),e(".cs_cart_discount_row").show(),e(".cs_cart_amount").each((function(){e(this).text(t.total),e(this).data("total",t.total_plain)})),e("#cs-discount",o).val(""),Object(a.b)(),"0.00"==t.total_plain?(e("#cs_cc_fields,#cs_cc_address,#cs_payment_mode_select").slideUp(),i.prop("required",!1),e('input[name="cs-gateway"]').val("manual")):(i.prop("required",!0),e("#cs_cc_fields,#cs_cc_address").slideDown()),d.trigger("cs_discount_applied",[t])):(e("#cs-discount-error-wrap").html('<span class="cs_error">'+t.msg+"</span>"),e("#cs-discount-error-wrap").show(),d.trigger("cs_discount_invalid",[t])):(window.console&&window.console.log&&console.log(t),d.trigger("cs_discount_failed",[t])),r.hide()}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}function i(t){var n={action:"cs_remove_discount",code:e(this).data("code")};return e.ajax({type:"POST",data:n,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){var n="0"+cs_global_vars.decimal_separator+"00";e(".cs_cart_amount").each((function(){cs_global_vars.currency_sign+n!=e(this).text()&&n+cs_global_vars.currency_sign!=e(this).text()||window.location.reload(),e(this).text(t.total),e(this).data("total",t.total_plain)})),e(".cs_cart_discount").html(t.html),t.discounts&&0===t.discounts.length&&e(".cs_cart_discount_row").hide(),Object(a.b)(),e("#cs_cc_fields,#cs_cc_address").slideDown(),d.trigger("cs_discount_removed",[t])}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}function c(t){var a=e(this),n=a.val(),o=a.data("key"),r=a.closest(".cs_cart_item").data("download-id"),i=a.parent().find('input[name="cs-cart-download-'+o+'-options"]').val(),c=e("#cs_cc_address"),l={action:"cs_update_quantity",quantity:n,download_id:r,options:i,billing_country:c.find("#billing_country").val(),card_state:c.find("#card_state").val()};return e.ajax({type:"POST",data:l,dataType:"json",url:cs_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){e(".cs_cart_subtotal_amount").each((function(){e(this).text(t.subtotal)})),e(".cs_cart_tax_amount").each((function(){e(this).text(t.taxes)})),e(".cs_cart_amount").each((function(){e(this).text(t.total),d.trigger("cs_quantity_updated",[t])}))}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}return{init:function(){d=e(document.body),t=e("#cs_purchase_form"),n=e(".cs_cart_amount"),n.text(),o=e("#cs_checkout_form_wrap"),d.on("cs_gateway_loaded",(function(e){var d,a,n,o;a=(d=t).find(".card-number"),n=d.find(".card-cvc"),o=d.find(".card-expiry"),a.length&&"function"==typeof a.payment&&(a.payment("formatCardNumber"),n.payment("formatCardCVC"),o.payment("formatCardExpiry"))})),d.on("keyup change",".cs-do-validate .card-number",(function(){var d,t;d=e(this),(t=d).validateCreditCard((function(d){var n=e(".card-type");null==d.card_type?(n.removeClass().addClass("off card-type"),t.removeClass("valid"),t.addClass("error")):(n.removeClass("off"),n.html(Object(a.a)(d.card_type.name)),n.addClass(d.card_type.name),d.length_valid&&d.luhn_valid?(t.addClass("valid"),t.removeClass("error")):(t.removeClass("valid"),t.addClass("error")))}))})),d.on("blur change",".card-name",(function(){var d=e(this);d.validateCreditCard((function(t){null!=t.card_type?(d.removeClass("valid").addClass("error"),e("#cs-purchase-button").attr("disabled","disabled")):(d.removeClass("error").addClass("valid"),e("#cs-purchase-button").removeAttr("disabled"))}))})),d.on("submit","#cs_payment_mode",(function(){if(0==e("#cs-gateway option:selected").val())return alert(cs_global_vars.no_gateway),!1})),d.on("click","#cs_payment_mode_select input",(function(){e("#cs_payment_mode_select label.cs-gateway-option-selected").removeClass("cs-gateway-option-selected"),e("#cs_payment_mode_select input:checked").parent().addClass("cs-gateway-option-selected")})),o.on("click",".cs-apply-discount",r),o.on("keypress","#cs-discount",(function(e){if("13"==e.keyCode)return!1})),o.on("keyup","#cs-discount",(function(e){"13"==e.keyCode&&o.find(".cs-apply-discount").trigger("click")})),d.on("click",".cs_discount_remove",i),d.on("click",".cs_discount_link",(function(d){d.preventDefault(),e(".cs_discount_link").parent().hide(),e("#cs-discount-code-wrap").show().find("#cs-discount").focus()})),d.find("#cs-discount-code-wrap").hide(),d.find("#cs_show_discount").show(),d.on("change",".cs-item-quantity",c),d.on("click",".cs-amazon-logout #Logout",(function(e){e.preventDefault(),amazon.Login.logout(),window.location=cs_amazon.checkoutUri}))},recalculate_taxes:a.b}}(window.jQuery),window.jQuery(document).ready(CS_Checkout.init)},82:function(e,d,t){"use strict";(function(e){var d=t(2);Object(d.a)((function(){e(document.body).on("click",".cs_terms_links",(function(d){d.preventDefault();var t=e(this).parent();t.prev(".cs-terms").slideToggle(),t.find(".cs_terms_links").toggle()}))}))}).call(this,t(0))}});